import { Link, useLocation } from 'react-router-dom'
import './nav.css'
import { Regions } from '../../api/Client'
import { useEffect, useState } from 'react'

interface NavProps {
    region: Regions
}

export default function Nav(props: NavProps) {
    const location = useLocation()
    const [path, setPath] = useState('')

    useEffect(() => {
        setPath(location.pathname)
    }, [location])

    return (
        <div className='nav'>
            <Link to={'/charts?region=' + props.region} title='-> charts'>
                <svg
                    width='32'
                    height='37'
                    viewBox='0 0 32 37'
                    xmlns='http://www.w3.org/2000/svg'
                    className={`scale-down-light ${path.includes('/charts') ? 'current' : ''}`}>
                    <path
                        fillRule='evenodd'
                        clipRule='evenodd'
                        d='M16.2418 0.569488C15.9472 0.48851 15.6136 0.539146 15.339 0.769592L1.41855 12.4502C1.17554 12.6012 0.955719 12.786 0.765625 12.9981C0.653625 13.0922 0.567444 13.2056 0.507843 13.3294C0.187134 13.8068 0 14.3816 0 15V33C0 34.6569 1.34314 36 3 36H10H11C12.1046 36 13 35.1046 13 34V26C13 25.4477 13.4477 25 14 25H15.9977V25.005H18.1007C18.5857 25.0535 18.9687 25.4486 18.9982 25.939V34.005C18.9982 35.1096 19.8936 36.005 20.9982 36.005H21.9986L28.9995 36.005V33.005H21.9986V25.005V24.005C21.9986 22.9004 21.1032 22.005 19.9986 22.005H16V22H12C10.8954 22 10 22.8954 10 24V25V32C10 32.5523 9.55228 33 9 33H4C3.44772 33 3 32.5523 3 32V15.0474L15.9958 4.23969L28.9995 15.0524V32.0305C28.9834 32.5687 28.5421 33 28 33H28.9995V36.005C30.6566 36.005 32 34.6617 32 33.0045V15.005C32 14.3869 31.813 13.8124 31.4925 13.3351C31.4328 13.2109 31.3464 13.0971 31.2339 13.0027L31.2337 13.0026C31.0439 12.791 30.8244 12.6065 30.5818 12.4556L16.6683 0.782585C16.5361 0.671722 16.3904 0.602477 16.2418 0.569488ZM22 32C22 32.5523 22.4477 33 23 33H22V32Z'
                    />
                </svg>
            </Link>
            <Link to={'/search'}>
                <svg
                    width='31'
                    height='31'
                    viewBox='0 0 31 31'
                    xmlns='http://www.w3.org/2000/svg'
                    className={`scale-down ${path.includes('/search') ? 'current' : ''}`}>
                    <path d='M28.5857 30.8544C28.282 30.8875 27.9799 30.7799 27.7654 30.5625L20.9448 23.6466C19.9448 24.5133 18.7788 25.1883 17.4468 25.6716C16.1149 26.1549 14.6975 26.3966 13.1948 26.3966C9.58938 26.3966 6.53803 25.1466 4.04073 22.6466C1.54343 20.1466 0.294781 17.1299 0.294781 13.5966C0.294781 10.0633 1.54478 7.04659 4.04478 4.54659C6.54478 2.04659 9.56978 0.796588 13.1198 0.796588C16.6698 0.796588 19.6864 2.04659 22.1698 4.54659C24.6531 7.04659 25.8948 10.0658 25.8948 13.6041C25.8948 15.0324 25.6614 16.4133 25.1948 17.7466C24.7281 19.0799 24.0281 20.3299 23.0948 21.4966L29.966 28.3678C30.1803 28.5821 30.2859 28.882 30.2531 29.1832L30.1759 29.8918C30.125 30.3584 29.7566 30.7268 29.29 30.7777L28.5857 30.8544ZM13.1448 23.3966C15.8531 23.3966 18.1552 22.4383 20.051 20.5216C21.9469 18.6049 22.8948 16.2966 22.8948 13.5966C22.8948 10.8966 21.9469 8.58825 20.051 6.67159C18.1552 4.75492 15.8531 3.79659 13.1448 3.79659C10.4087 3.79659 8.08298 4.75492 6.16768 6.67159C4.25241 8.58825 3.29478 10.8966 3.29478 13.5966C3.29478 16.2966 4.25241 18.6049 6.16768 20.5216C8.08298 22.4383 10.4087 23.3966 13.1448 23.3966Z' />
                </svg>
            </Link>
            <Link to={'/playlists'} title='-> playlists'>
                <svg
                    xmlns='http://www.w3.org/2000/svg'
                    height='48'
                    viewBox='0 -960 960 960'
                    width='48'
                    className={`${path.includes('/playlists') ? 'current' : ''}`}>
                    <path d='M640.118-160Q591-160 556-193.559q-35-33.559-35-81.5t33.542-81.441Q588.083-390 636-390q16 0 31.5 3t30.5 10v-343h182v71H758v375q0 47.5-34.382 80.75-34.383 33.25-83.5 33.25ZM120-330v-60h306v60H120Zm0-165v-60h473v60H120Zm0-165v-60h473v60H120Z' />
                </svg>
            </Link>
            <Link to={'/account'} title='-> account'>
                <svg
                    xmlns='http://www.w3.org/2000/svg'
                    height='48'
                    viewBox='0 -960 960 960'
                    width='48'
                    className={`${path.includes('/account') ? 'current' : ''}`}>
                    <path d='M480-481q-66 0-108-42t-42-108q0-66 42-108t108-42q66 0 108 42t42 108q0 66-42 108t-108 42ZM160-160v-94q0-38 19-65t49-41q67-30 128.5-45T480-420q62 0 123 15.5t127.921 44.694q31.301 14.126 50.19 40.966Q800-292 800-254v94H160Zm60-60h520v-34q0-16-9.5-30.5T707-306q-64-31-117-42.5T480-360q-57 0-111 11.5T252-306q-14 7-23 21.5t-9 30.5v34Zm260-321q39 0 64.5-25.5T570-631q0-39-25.5-64.5T480-721q-39 0-64.5 25.5T390-631q0 39 25.5 64.5T480-541Zm0-90Zm0 411Z' />
                </svg>
            </Link>
        </div>
    )
}
